(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"3T1H":function(D,M,a){"use strict";a.r(M);var re=a("DYRE"),F=a("zeV3"),_e=a("Znn+"),b=a("ZTPi"),ie=a("miYZ"),p=a("tsqr"),c=a("qLMh"),j=a("k1fw"),m=a("9og8"),h=a("tJVT"),oe=a("fOrg"),W=a("+KLJ"),S=a("cJ7L"),y=a("MGYb"),N=a("FQ2w"),z=a("cGnJ"),G=a("Y0UT"),J=a("80zm"),$=a("CZrw"),E=a("q1tI"),ue=a.n(E),V=a("VMEa"),v=a("Qurx"),Y=a("/aGu"),Z=a("tneF"),n=a("9kvl"),Q=a("55Ip"),H=a("CwrG"),B=a("63rs"),X=a("UTd0"),t=a.n(X),e=a("nKUr"),ce=a.n(e),x=function(g){var l=g.content;return Object(e.jsx)(W.a,{style:{marginBottom:24},message:l,type:"error",showIcon:!0})},w=function(){!n.c||setTimeout(function(){var g=n.c.location.query,l=g,P=l.redirect;n.c.push(P||"/")},10)},k=function(){var g=Object(E.useState)(!1),l=Object(h.a)(g,2),P=l[0],C=l[1],q=Object(E.useState)({}),T=Object(h.a)(q,2),L=T[0],ee=T[1],ae=Object(E.useState)("account"),U=Object(h.a)(ae,2),f=U[0],se=U[1],A=Object(n.i)("@@initialState"),O=A.initialState,te=A.setInitialState,o=Object(n.h)(),le=function(){var u=Object(m.a)(Object(c.a)().mark(function r(){var _,i;return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,O==null||(_=O.fetchUserInfo)===null||_===void 0?void 0:_.call(O);case 2:i=s.sent,i&&te(Object(j.a)(Object(j.a)({},O),{},{currentUser:i}));case 4:case"end":return s.stop()}},r)}));return function(){return u.apply(this,arguments)}}(),ne=function(){var u=Object(m.a)(Object(c.a)().mark(function r(_){var i;return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return C(!0),s.prev=1,s.next=4,Object(B.a)(Object(j.a)(Object(j.a)({},_),{},{type:f}));case 4:if(i=s.sent,!(i.success&&i.result.token)){s.next=10;break}return localStorage.setItem("token",i.result.token),p.default.success("\u767B\u5F55\u6210\u529F\uFF01"),w(),s.abrupt("return");case 10:ee(i),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),p.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 16:C(!1);case 17:case"end":return s.stop()}},r,null,[[1,13]])}));return function(_){return u.apply(this,arguments)}}(),R=L.success,K=L.result;return Object(e.jsxs)("div",{className:t.a.container,children:[Object(e.jsx)("div",{className:t.a.lang,children:n.b&&Object(e.jsx)(n.b,{})}),Object(e.jsxs)("div",{className:t.a.content,children:[Object(e.jsxs)("div",{className:t.a.top,children:[Object(e.jsx)("div",{className:t.a.header,children:Object(e.jsxs)(Q.a,{to:"/",children:[Object(e.jsx)("img",{alt:"logo",className:t.a.logo,src:"/logo.svg"}),Object(e.jsx)("span",{className:t.a.title,children:"Ant Design"})]})}),Object(e.jsx)("div",{className:t.a.desc,children:"Ant Design \u662F\u897F\u6E56\u533A\u6700\u5177\u5F71\u54CD\u529B\u7684 Web \u8BBE\u8BA1\u89C4\u8303"})]}),Object(e.jsxs)("div",{className:t.a.main,children:[Object(e.jsxs)(V.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:o.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(r,_){return _.pop()},submitButtonProps:{loading:P,size:"large",style:{width:"100%"}}},onFinish:function(){var u=Object(m.a)(Object(c.a)().mark(function r(_){return Object(c.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:ne(_);case 1:case"end":return d.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),children:[Object(e.jsxs)(b.a,{activeKey:f,onChange:se,children:[Object(e.jsx)(b.a.TabPane,{tab:o.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(b.a.TabPane,{tab:o.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),!R&&K==="account"&&Object(e.jsx)(x,{content:o.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),f==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(v.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(S.a,{className:t.a.prefixIcon})},placeholder:o.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(v.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(y.a,{className:t.a.prefixIcon})},placeholder:o.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),!R&&K==="mobile"&&Object(e.jsx)(x,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),f==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(v.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(N.a,{className:t.a.prefixIcon})},name:"mobile",placeholder:o.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(n.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(Y.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(z.a,{className:t.a.prefixIcon})},captchaProps:{size:"large"},placeholder:o.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,_){return r?"".concat(_," ").concat(o.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):o.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var u=Object(m.a)(Object(c.a)().mark(function r(_){var i;return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(B.b)(_);case 2:if(i=s.sent,i!==!1){s.next=5;break}return s.abrupt("return");case 5:p.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return s.stop()}},r)}));return function(r){return u.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(Z.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(n.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(n.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]}),Object(e.jsxs)(F.b,{className:t.a.other,children:[Object(e.jsx)(n.a,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),Object(e.jsx)(G.a,{className:t.a.icon}),Object(e.jsx)(J.a,{className:t.a.icon}),Object(e.jsx)($.a,{className:t.a.icon})]})]})]}),Object(e.jsx)(H.a,{})]})};M.default=k},UTd0:function(D,M,a){D.exports={container:"container___2XU-J",lang:"lang___3UZBu",content:"content___232he",top:"top___2e5qd",header:"header___1G_uO",logo:"logo___2RIUt",title:"title___3xYCK",desc:"desc___1GQtf",main:"main___oMoRI",icon:"icon___1dSHb",other:"other___3ljbI",register:"register___1vN_i",prefixIcon:"prefixIcon___57iuX"}}}]);
